<!-- /_home.html -->
<!-- Links should start from /root because the final compiled page is at an arbitrary location. -->
<div>
    <section class="about-me-section">
        <h2>About me</h2>
        <p>
            Hi! I'm a designer, developer, and user experience activist. I love making the Web a better place by creating elegant, functional designs and user experiences and easy-to-use, fast websites. I also enjoy sharing <a href="#/_posts.html">my ideas</a> and <a href="#/_work.html">my work</a>. <a href="mailto:33a1eb@williams.blue">Send me an email!</a>
        </p>
    </section>

    <section>
        <h2>Recent posts</h2>
        <ol class="post-list">
            
        </ol>
    </section>
</div>

<script>
    asyncGet("/_posts.html", loadRecentPosts);
    currentPage.title = "Michael Williams";

    function loadRecentPosts(postList) {
        var parser = new DOMParser();                           // Create a parser for the content
        postList = parser.parseFromString(postList,"text/html").body.firstChild;
        var posts = postList.querySelectorAll("li");            // Get the list items
        posts = Array.from(posts).slice(0,3);                   // Convert to array and slice to first 3 posts

        var recentPostsOl = document.querySelector(".post-list");

        // Add the first 3 posts to the recent posts section
        for(var i = 0; i <= 2; i++) {
            if(posts[i]) recentPostsOl.appendChild(posts[i]);
        }



        
    runAfterPageLoad();}
</script>